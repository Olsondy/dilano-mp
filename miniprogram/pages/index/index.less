@import "../../styles/theme.less";

// 动画
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
@keyframes fadeInUp { from { opacity: 0; transform: translate3d(0, 40rpx, 0); } to { opacity: 1; transform: translate3d(0, 0, 0); } }
@keyframes slideUp { from { opacity: 0; transform: translateY(20rpx); } to { opacity: 1; transform: translateY(0); } }

.page-container { min-height: 100vh; background-color: @bg-color; color: @text-main; }

// 骨架屏样式
.skeleton-screen {
  background: @bg-color; min-height: 100vh;
  .sk-block { background: linear-gradient(90deg, @bg-color-2 25%, @bg-color-3 50%, @bg-color-2 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 12rpx; }
  .sk-header { height: 320rpx; background: @bg-color-2; opacity: 0.6; }
  .sk-body { 
    background: @bg-color; border-radius: 60rpx 60rpx 0 0; margin-top: -60rpx; padding: 48rpx 32rpx;
    .sk-title { .sk-block; height: 40rpx; width: 30%; margin: 30rpx 0; }
    .sk-cards { display: flex; .sk-card-item { .sk-block; width: 600rpx; height: 340rpx; margin-right: 20rpx; flex-shrink: 0; border-radius: 40rpx; } }
    .sk-list { display: flex; margin-top: 40rpx; .sk-time { .sk-block; width: 120rpx; height: 80rpx; } .sk-content { .sk-block; flex: 1; height: 180rpx; margin-left: 40rpx; border-radius: 30rpx; } }
  }
}

// 正式内容样式
.header-bg { 
  height: 320rpx; 
  padding: 80rpx 48rpx 0; 
  color: @bg-color-2; 
  background: linear-gradient(135deg, @brand-dark 0%, #0b7c85 45%, #82f5ef 100%);
  overflow: hidden;  

  .company-name { 
    font-size: 56rpx; // Larger title
    font-weight: 800; 
    position: relative; 
    z-index: 1; 
    color: @text-default;
  } 
  .announcement { 
    font-size: 32rpx; 
    opacity: 0.8; 
    margin-top: 12rpx; 
    position: relative; 
    z-index: 1; 
    color: @text-default;
    font-weight: 600;
  } 
}
.main-container { background: @bg-color; border-radius: 60rpx 60rpx 0 0; margin-top: -60rpx; padding: 40rpx 30rpx; min-height: calc(100vh - 260rpx)}  

.section-title { font-size: 36rpx; font-weight: 700; margin-bottom: 30rpx; padding-left: 10rpx; color: @text-main; }

// Subjects 卡片
.project-swiper {
  height: 400rpx;
  swiper-item {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .summary-card {
    display: block; 
    width: 100%; 
    height: 340rpx; 
    box-sizing: border-box; 
    background: @bg-color-2; // Teal background for card
    border-radius: 40rpx; 
    overflow: hidden;
    padding: 30rpx; 
    position: relative; 
    box-shadow: 0 10rpx 20rpx rgba(77, 182, 172, 0.2); 
    transition: all 0.3s ease;
    transform: scale(0.9); 
    opacity: 0.8;
    color: white;

    &.active { 
      transform: scale(1); 
      opacity: 1;
      z-index: 10;
      box-shadow: 0 10rpx 10rpx rgba(77, 182, 172, 0.4); 
      border: 4rpx solid @brand-color; // Highlight active card
    }
    
    .card-tag { position: absolute; top: 0; right: 0; padding: 8rpx 24rpx; font-size: 22rpx; font-weight: 700; color: white; border-bottom-left-radius: 24rpx; background: var(--tag-color); }
    .status-row { display: flex; align-items: baseline; .status-desc { font-size: 40rpx; font-weight: 800; color: @text-main; } .status-label { font-size: 22rpx; color: @text-sub; margin-left: 10rpx; } } 
    .project-name { font-size: 32rpx; font-weight: 600; color: @brand-color; margin-top: 20rpx; } 
    .divider-line { height: 2rpx; background: @border-color; margin: 24rpx 0; } 
    .material-info { font-size: 26rpx; white-space: normal; color: @text-sub; } 
    .create-time { font-size: 18rpx; color: @text-grey; margin-top: 10rpx; } 
  }
}

// Schedule 详情
.schedule-header {
  display: flex; align-items: center; padding: 20rpx 0; color: @text-sub; font-size: 26rpx; font-weight: 600;
  .col-time { width: 180rpx; text-align: center; }
  .col-progress { flex: 1; padding-left: 40rpx; }
  .col-icon { width: 80rpx; display: flex; justify-content: flex-end; }
}

.col-icon-btn { width: 64rpx; height: 64rpx; display: flex; align-items: center; justify-content: center; border-radius: 50%; &:active { background: rgba(255,255,255,0.1); transform: scale(0.8); } } 

.sort-arrow {
  width: 0; height: 0; border-left: 12rpx solid transparent; border-right: 12rpx solid transparent; border-top: 16rpx solid @text-grey; transition: transform 0.5s cubic-bezier(0.5, 0, 0.2, 1.2);
  &.ascending { transform: rotate(180deg); border-top-color: @brand-color; }
}

.timeline-container {
  position: relative;
  &::before { content: ''; position: absolute; left: 180rpx; top: 0; bottom: 40rpx; width: 2rpx; background-color: @border-color; }
}

.timeline-row { 
  display: flex; margin-bottom: 40rpx; opacity: 0; animation: slideUp 0.4s ease forwards;
  .time-cell { width: 180rpx; text-align: center; padding-top: 10rpx; flex-shrink: 0; .time-val { font-size: 32rpx; font-weight: 700; color: @text-main; } .date-val { font-size: 22rpx; color: @text-grey; } }
  .progress-cell { flex: 1; padding-left: 40rpx; .detail-card { background: @bg-color-2; border-radius: 30rpx; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05); overflow: hidden; .detail-header { padding: 20rpx 30rpx; color: white; display: flex; justify-content: space-between; .detail-title { font-weight: 700; font-size: 28rpx; } .detail-status { font-size: 22rpx; } } .detail-body { padding: 24rpx 30rpx; background: @bg-color-2; font-size: 26rpx; line-height: 1.5; color: @text-sub; } } }
}

.animate-fadeInUp { animation: fadeInUp 0.6s ease both; }